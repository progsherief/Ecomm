import './polyfills.server.mjs';
import{a as I}from"./chunk-7WYVVLZR.mjs";import{a as W}from"./chunk-IR4HFCJP.mjs";import{a as L}from"./chunk-ORLFTC77.mjs";import"./chunk-GTSSCL6B.mjs";import"./chunk-B5YGRSSX.mjs";import"./chunk-AZJOESJL.mjs";import"./chunk-7PJ5ATBG.mjs";import{Ab as v,Hb as l,Jb as _,Ma as g,Ob as w,Qa as a,Ra as m,aa as f,hb as x,ka as d,la as h,ob as C,pb as b,qb as c,rb as r,sb as p,vb as S,zb as u}from"./chunk-25LRG7DY.mjs";import"./chunk-VVCT4QZE.mjs";var T=(n,i)=>i._id;function y(n,i){if(n&1){let o=S();c(0,"div",3)(1,"div",4),p(2,"img",5),r(),c(3,"div",6)(4,"div")(5,"h3",7),l(6),r(),c(7,"p",8),l(8),r(),c(9,"button",9),u("click",function(){let e=d(o).$implicit,s=v();return h(s.removeItem(e.id))}),p(10,"i",10),r()(),c(11,"div",11)(12,"div")(13,"button",12),u("click",function(){let e=d(o).$implicit,s=v();return h(s.AddToCart(e.id))}),l(14,"Add To Cart"),r()()()()()}if(n&2){let o=i.$implicit;a(2),x("src",o.imageCover,g)("alt",o.title),a(4),_(" ",o.title," "),a(2),_("Price: ",o.price," ")}}var j=(()=>{let i=class i{constructor(t,e,s){this._WishListService=t,this._CartService=e,this._toastr=s,this.wishListDetails=[]}ngOnInit(){this.GetLoggedUserWishlist()}GetLoggedUserWishlist(){this._WishListService.GetLoggedUserWishlist().subscribe({next:t=>{this.wishListDetails=t.data,console.log(this.wishListDetails)},error:t=>{}})}removeItem(t){this._WishListService.RemoveSpecificWishlistItem(t).subscribe({next:e=>{this._toastr.success(e.message,"freshCart"),this.GetLoggedUserWishlist(),console.log(this.wishListDetails)},error:e=>{console.log(e)}})}AddToCart(t){this._CartService.AddProductToCart(t).subscribe({next:e=>{this._toastr.success(e.message,"freshCart"),this._CartService.countNumber.set(e.numOfCartItems),this._WishListService.RemoveSpecificWishlistItem(t).subscribe({next:s=>{this.GetLoggedUserWishlist()},error:s=>{console.log(s)}})},error:e=>{console.log(e)}})}};i.\u0275fac=function(e){return new(e||i)(m(I),m(L),m(W))},i.\u0275cmp=f({type:i,selectors:[["app-cart"]],standalone:!0,features:[w],decls:6,vars:0,consts:[[1,"bg-main-light","rounded-4","shadow","p-4","my-2","w-75","mx-auto"],[1,"d-flex","align-items-center","justify-content-between"],[1,"h2"],[1,"row","mb-1","border-bottom"],[1,"col-md-1"],[1,"w-100",3,"src","alt"],[1,"col-md-11","d-flex","aligh-items-center","justify-content-between"],[1,"h-5"],[1,"text-main","m-0"],[1,"text-danger","cr","btn","p-0",3,"click"],[1,"fa-solid","fa-trash"],[1,"d-flex","aligh-items-center","gap-2"],[1,"btn-main","w-100",3,"click"]],template:function(e,s){e&1&&(c(0,"section",0)(1,"div",1)(2,"h1",2),l(3,"My Wish List"),r()(),C(4,y,15,4,"div",3,T),r()),e&2&&(a(4),b(s.wishListDetails))}});let n=i;return n})();export{j as WishlistComponent};
