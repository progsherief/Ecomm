import './polyfills.server.mjs';
import{a as C,c as w,d as x,e as I,f as a,h as F,i as N,j as E,l as O}from"./chunk-TJ6WV45J.mjs";import{a as c}from"./chunk-B5YGRSSX.mjs";import{h as S}from"./chunk-AZJOESJL.mjs";import{x as y}from"./chunk-7PJ5ATBG.mjs";import{Hb as l,Ob as g,Qa as h,Ra as m,S as u,X as p,aa as f,hb as v,qb as n,rb as o,sb as s,zb as b}from"./chunk-25LRG7DY.mjs";import"./chunk-VVCT4QZE.mjs";var _=(()=>{let t=class t{constructor(e){this._HttpClient=e}checkOut(e,i){return this._HttpClient.post(`${c.baseurl}/api/v1/orders/checkout-session/${e}?url=${c.serverUrl}`,{shippingAddress:i})}};t.\u0275fac=function(i){return new(i||t)(p(y))},t.\u0275prov=u({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();var $=(()=>{let t=class t{constructor(e,i){this._ActivatedRoute=e,this._OrdersService=i,this.cartId="",this.orders=new I({details:new a(null),phone:new a(null),city:new a(null)})}orderSubmit(){this._OrdersService.checkOut(this.cartId,this.orders.value).subscribe({next:e=>{e.status==="success"&&window.open(e.session.url,"_self"),console.log(e)},error:e=>{console.log(e)}}),console.log(this.orders.value),console.log(this.cartId)}ngOnInit(){this._ActivatedRoute.paramMap.subscribe({next:e=>{this.cartId=e.get("id")}})}};t.\u0275fac=function(i){return new(i||t)(m(S),m(_))},t.\u0275cmp=f({type:t,selectors:[["app-orders"]],standalone:!0,features:[g],decls:17,vars:1,consts:[[1,"bg-main-light","rounded-4","shadow","p-2","my-2","w-75","mx-auto"],[1,"text-center"],[3,"ngSubmit","formGroup"],[1,"my-1"],["for","details"],["formControlName","details","id","details",1,"form-control"],["for","phone"],["id","phone","formControlName","phone","type","tel",1,"form-control"],["for","city"],["id","city","formControlName","city","type","text",1,"form-control"],["type","submit",1,"btn-main"]],template:function(i,d){i&1&&(n(0,"section",0),s(1,"h1",1),n(2,"form",2),b("ngSubmit",function(){return d.orderSubmit()}),n(3,"div",3)(4,"label",4),l(5,"Details"),o(),s(6,"input",5),o(),n(7,"div",3)(8,"label",6),l(9,"Phone"),o(),s(10,"input",7),o(),n(11,"div",3)(12,"label",8),l(13,"City"),o(),s(14,"input",9),o(),n(15,"button",10),l(16,"Check out"),o()()()),i&2&&(h(2),v("formGroup",d.orders))},dependencies:[O,F,C,w,x,N,E]});let r=t;return r})();export{$ as OrdersComponent};
