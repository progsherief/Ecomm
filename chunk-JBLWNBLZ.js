import{a as M}from"./chunk-PVWKXDWJ.js";import{a as V,b as c,c as j,d as k,e as $,f as T,h as H,i as z,j as B,l as J}from"./chunk-SYJAIBDB.js";import{g as D}from"./chunk-QYLJZLII.js";import{h as A,w as G}from"./chunk-I3CNLBVI.js";import{Ab as x,Bb as y,Ib as m,Jb as L,Pb as I,Ra as a,Sa as N,Sb as R,da as q,gb as _,ib as h,nb as u,rb as n,sb as r,tb as F}from"./chunk-ND6PNDCF.js";var b=(t,i)=>({"is-valid":t,"is-invalid":i});function K(t,i){t&1&&(n(0,"p",20),m(1,"Name Is Required"),r())}function O(t,i){t&1&&(n(0,"p",20),m(1,"Name should be more than or equal 3 chars"),r())}function Q(t,i){t&1&&(n(0,"p",20),m(1,"Name should be more than or equal 20 chars"),r())}function U(t,i){if(t&1&&(n(0,"div",7),_(1,K,2,0,"p",20)(2,O,2,0)(3,Q,2,0),r()),t&2){let o,l=y();a(),u(1,(o=l.registerForm.get("name"))!=null&&o.getError("required")?1:(o=l.registerForm.get("name"))!=null&&o.getError("minlength")?2:(o=l.registerForm.get("name"))!=null&&o.getError("maxlength")?3:-1)}}function W(t,i){t&1&&(n(0,"p",21),m(1,"Email Is Required"),r())}function X(t,i){t&1&&(n(0,"p",21),m(1,"Enter valid Email"),r())}function Y(t,i){if(t&1&&(n(0,"div",10),_(1,W,2,0,"p",21)(2,X,2,0),r()),t&2){let o,l=y();a(),u(1,(o=l.registerForm.get("email"))!=null&&o.getError("required")?1:(o=l.registerForm.get("email"))!=null&&o.getError("email")?2:-1)}}function Z(t,i){t&1&&(n(0,"p",21),m(1,"Phone Is Required"),r())}function ee(t,i){t&1&&(n(0,"p",21),m(1,"Enter valid Phone"),r())}function te(t,i){if(t&1&&(n(0,"div",10),_(1,Z,2,0,"p",21)(2,ee,2,0),r()),t&2){let o,l=y();a(),u(1,(o=l.registerForm.get("phone"))!=null&&o.getError("required")?1:(o=l.registerForm.get("phone"))!=null&&o.getError("pattern")?2:-1)}}function re(t,i){t&1&&(n(0,"p",21),m(1,"password Is Required"),r())}function ne(t,i){t&1&&(n(0,"p",21),m(1,"Enter valid password"),r())}function ie(t,i){if(t&1&&(n(0,"div",10),_(1,re,2,0,"p",21)(2,ne,2,0),r()),t&2){let o,l=y();a(),u(1,(o=l.registerForm.get("password"))!=null&&o.getError("required")?1:(o=l.registerForm.get("password"))!=null&&o.getError("pattern")?2:-1)}}function le(t,i){t&1&&(n(0,"p",17),m(1,"Password confirmation is incorrect"),r())}function oe(t,i){t&1&&(n(0,"span"),F(1,"i",22),r())}function ae(t,i){if(t&1&&(n(0,"p",19),m(1),r()),t&2){let o=y();a(),L(o.msgError)}}function me(t,i){t&1&&(n(0,"p"),m(1,"Success"),r())}var fe=(()=>{let i=class i{constructor(l,C){this._AuthService=l,this._Router=C,this.isSuccess=!1,this.msgError="",this.isLoading=!1,this.registerForm=new $({name:new T(null,[c.required,c.minLength(3),c.maxLength(20)]),email:new T(null,[c.required,c.email]),phone:new T(null,[c.required,c.pattern(/^01[0125][0-9]{8}$/)]),password:new T(null,[c.required,c.pattern(/^\w{6,}$/)]),rePassword:new T(null)},this.confirmPassword)}registerSubmit(){this.isLoading=!0,this.registerForm.valid?this._AuthService.setRegisterForm(this.registerForm.value).subscribe({next:l=>{console.log(l),this.isLoading=!1,l.message=="success"&&(this.isSuccess=!0,setTimeout(()=>{this._Router.navigate(["/login"])},1e3))},error:l=>{this.msgError=l.error.message,console.log(l),this.isLoading=!1}}):(this.registerForm.setErrors({mismatch:!0}),this.registerForm.markAllAsTouched(),this.isLoading=!1)}confirmPassword(l){return l.get("password")?.value===l.get("rePassword")?.value?null:{mismatch:!0}}};i.\u0275fac=function(C){return new(C||i)(N(M),N(D))},i.\u0275cmp=q({type:i,selectors:[["app-register"]],standalone:!0,features:[I],decls:35,vars:29,consts:[[1,"bg-main-light","show","p-2","my-2","rounded-4"],[1,"container"],[1,"h2","text-main"],[3,"ngSubmit","formGroup"],[1,"my-2"],["for","name"],["id","name","type","text","formControlName","name",1,"form-control",3,"ngClass"],[1,"alert","alert-danger","w-50"],["for","email"],["id","email","type","email","formControlName","email",1,"form-control",3,"ngClass"],[1,"w-50","alert","alert-danger"],["for","phone"],["id","phone","type","phone","formControlName","phone",1,"form-control",3,"ngClass"],["for","password"],["id","password","type","password","formControlName","password",1,"form-control",3,"ngClass"],["for","rePassword"],["id","rePassword","type","password","formControlName","rePassword",1,"form-control",3,"ngClass"],[1,"w-50","alert","alert-danger","m-0"],["type","submit",1,"btn-main","ms-auto","d-block"],[1,"alert","alert-danger","w-50","m-0"],[1,"m-0"],["clas","m-0"],[1,"fas","fa-spin","fa-spinner"]],template:function(C,e){if(C&1&&(n(0,"section",0)(1,"div",1)(2,"h1",2),m(3,"Register Now:"),r(),n(4,"form",3),x("ngSubmit",function(){return e.registerSubmit()}),n(5,"div",4)(6,"label",5),m(7,"Name"),r(),F(8,"input",6),_(9,U,4,1,"div",7),r(),n(10,"div",4)(11,"label",8),m(12,"Email"),r(),F(13,"input",9),_(14,Y,3,1,"div",10),r(),n(15,"div",4)(16,"label",11),m(17,"Phone"),r(),F(18,"input",12),_(19,te,3,1,"div",10),r(),n(20,"div",4)(21,"label",13),m(22,"password"),r(),F(23,"input",14),_(24,ie,3,1,"div",10),r(),n(25,"div",4)(26,"label",15),m(27,"RePassword"),r(),F(28,"input",16),_(29,le,2,0,"p",17),r(),n(30,"button",18),m(31,"Register "),_(32,oe,2,0,"span"),r(),_(33,ae,2,1,"p",19)(34,me,2,0,"p"),r()()()),C&2){let s,v,d,E,g,w,p,S,f,P;a(4),h("formGroup",e.registerForm),a(4),h("ngClass",R(14,b,!((s=e.registerForm.get("name"))!=null&&s.errors)&&(((s=e.registerForm.get("name"))==null?null:s.touched)||((s=e.registerForm.get("name"))==null?null:s.dirty)),((s=e.registerForm.get("name"))==null?null:s.errors)&&(((s=e.registerForm.get("name"))==null?null:s.touched)||((s=e.registerForm.get("name"))==null?null:s.dirty)))),a(),u(9,(v=e.registerForm.get("name"))!=null&&v.errors&&((v=e.registerForm.get("name"))!=null&&v.touched||(v=e.registerForm.get("name"))!=null&&v.dirty)?9:-1),a(4),h("ngClass",R(17,b,!((d=e.registerForm.get("email"))!=null&&d.errors)&&(((d=e.registerForm.get("email"))==null?null:d.touched)||((d=e.registerForm.get("email"))==null?null:d.dirty)),((d=e.registerForm.get("email"))==null?null:d.errors)&&(((d=e.registerForm.get("email"))==null?null:d.touched)||((d=e.registerForm.get("email"))==null?null:d.dirty)))),a(),u(14,(E=e.registerForm.get("email"))!=null&&E.errors&&((E=e.registerForm.get("email"))!=null&&E.touched||(E=e.registerForm.get("email"))!=null&&E.dirty)?14:-1),a(4),h("ngClass",R(20,b,!((g=e.registerForm.get("phone"))!=null&&g.errors)&&(((g=e.registerForm.get("phone"))==null?null:g.touched)||((g=e.registerForm.get("phone"))==null?null:g.dirty)),((g=e.registerForm.get("phone"))==null?null:g.errors)&&(((g=e.registerForm.get("phone"))==null?null:g.touched)||((g=e.registerForm.get("phone"))==null?null:g.dirty)))),a(),u(19,(w=e.registerForm.get("phone"))!=null&&w.errors&&((w=e.registerForm.get("phone"))!=null&&w.touched||(w=e.registerForm.get("phone"))!=null&&w.dirty)?19:-1),a(4),h("ngClass",R(23,b,!((p=e.registerForm.get("password"))!=null&&p.errors)&&(((p=e.registerForm.get("password"))==null?null:p.touched)||((p=e.registerForm.get("password"))==null?null:p.dirty)),((p=e.registerForm.get("password"))==null?null:p.errors)&&(((p=e.registerForm.get("password"))==null?null:p.touched)||((p=e.registerForm.get("password"))==null?null:p.dirty)))),a(),u(24,(S=e.registerForm.get("password"))!=null&&S.errors&&((S=e.registerForm.get("password"))!=null&&S.touched||(S=e.registerForm.get("password"))!=null&&S.dirty)?24:-1),a(4),h("ngClass",R(26,b,!e.registerForm.getError("mismatch")&&(((f=e.registerForm.get("rePassword"))==null?null:f.touched)||((f=e.registerForm.get("rePassword"))==null?null:f.dirty)),e.registerForm.getError("mismatch")&&(((f=e.registerForm.get("rePassword"))==null?null:f.touched)||((f=e.registerForm.get("rePassword"))==null?null:f.dirty)))),a(),u(29,e.registerForm.getError("mismatch")&&((P=e.registerForm.get("rePassword"))!=null&&P.touched||(P=e.registerForm.get("rePassword"))!=null&&P.dirty)?29:-1),a(3),u(32,e.isLoading?32:-1),a(),u(33,e.msgError?33:-1),a(),u(34,e.isSuccess?34:-1)}},dependencies:[J,H,V,j,k,z,B,G,A]});let t=i;return t})();export{fe as RegisterComponent};
